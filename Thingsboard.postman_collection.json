{
	"info": {
		"_postman_id": "6aac2a97-4ace-49f3-96bd-cc636ac5bd23",
		"name": "Thingsboard",
		"description": "ThingsBoard is an open-source IoT platform for data collection, processing, visualization, and device management.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "35157639",
		"_collection_link": "https://www.postman.com/cristinasevi/workspace/chirpstack-thingsboard/collection/35157639-6aac2a97-4ace-49f3-96bd-cc636ac5bd23?action=share&source=collection_link&creator=35157639"
	},
	"item": [
		{
			"name": "authentification",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.environment.set(\"access_token\", jsonData.token);\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{password}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{username}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\"username\":\"{{username}}\", \"password\":\"{{password}}\"}"
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/auth/login",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"auth",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "device data",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "{{username}}",
							"type": "string"
						},
						{
							"key": "password",
							"value": "{{password}}{",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/device/info/{{dev_id}}",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device",
						"info",
						"{{dev_id}}"
					]
				}
			},
			"response": [
				{
					"name": "device data",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{thingsboard_host}}/api/device/info/{{dev_id}}",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"device",
								"info",
								"{{dev_id}}"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "transfer-encoding",
							"value": "chunked"
						},
						{
							"key": "date",
							"value": "Tue, 28 May 2024 07:34:20 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": {\n        \"entityType\": \"DEVICE\",\n        \"id\": \"a39214a0-19a6-11ef-a4b5-cd877a1ebdc9\"\n    },\n    \"createdTime\": 1716538897130,\n    \"additionalInfo\": null,\n    \"tenantId\": {\n        \"entityType\": \"TENANT\",\n        \"id\": \"84c78ec0-2a13-11ee-a87d-e32305a89fd3\"\n    },\n    \"customerId\": {\n        \"entityType\": \"CUSTOMER\",\n        \"id\": \"d3b64270-2d1e-11ee-8142-4394c74561d5\"\n    },\n    \"name\": \"0004a30b00f98b47\",\n    \"type\": \"chekness\",\n    \"label\": null,\n    \"deviceProfileId\": {\n        \"entityType\": \"DEVICE_PROFILE\",\n        \"id\": \"45cef3b0-2ad7-11ee-a4a5-cfc2f26174fe\"\n    },\n    \"deviceData\": {\n        \"configuration\": {\n            \"type\": \"DEFAULT\"\n        },\n        \"transportConfiguration\": {\n            \"type\": \"DEFAULT\"\n        }\n    },\n    \"firmwareId\": null,\n    \"softwareId\": null,\n    \"externalId\": null,\n    \"ownerName\": \"TELESTO 02\",\n    \"groups\": [],\n    \"active\": true,\n    \"ownerId\": {\n        \"entityType\": \"CUSTOMER\",\n        \"id\": \"d3b64270-2d1e-11ee-8142-4394c74561d5\"\n    }\n}"
				}
			]
		},
		{
			"name": "new device",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "{{username}}",
							"type": "string"
						},
						{
							"key": "password",
							"value": "{{password}}{",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n        \"device\": {\r\n            \"tenantId\": {\r\n            \"id\": \"{{tenantId}}\",\r\n            \"entityType\": \"TENANT\"\r\n            },\r\n            \"customerId\": {\r\n            \"id\": \"{{customerId}}\",\r\n            \"entityType\": \"CUSTOMER\"\r\n            },\r\n            \"ownerId\": {\r\n            \"id\": \"{{ownerId}}\",\r\n            \"entityType\": \"DEVICE\"\r\n            },\r\n            \"name\": \"{{device_id}}\",\r\n            \"label\": null,\r\n            \"deviceProfileId\": {\r\n            \"id\": \"{{deviceProfileId}}\",\r\n            \"entityType\": \"DEVICE_PROFILE\"\r\n            },\r\n            \"deviceData\": {\r\n            \"configuration\": {\r\n                \"type\": \"DEFAULT\"\r\n            },\r\n            \"transportConfiguration\": {\r\n                \"type\": \"DEFAULT\"\r\n            }\r\n            },\r\n            \"firmwareId\": null,\r\n            \"softwareId\": null,\r\n            \"additionalInfo\": null\r\n        },\r\n        \"credentials\": {\r\n            \"createdTime\": 1715866860000,\r\n            \"credentialsType\": \"ACCESS_TOKEN\",\r\n            \"credentialsId\": \"\"\r\n        }\r\n    }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device-with-credentials",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device-with-credentials"
					]
				}
			},
			"response": []
		},
		{
			"name": "move device",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"clientId\": \"{{customerId}}\",\r\n    \"name\": \"{{dev_eui}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device"
					]
				}
			},
			"response": [
				{
					"name": "move device",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"clientId\": \"{{customerId}}\",\r\n    \"name\": \"{{dev_eui}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{thingsboard_host}}/api/device",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"device"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "transfer-encoding",
							"value": "chunked"
						},
						{
							"key": "date",
							"value": "Tue, 28 May 2024 07:35:02 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": {\n        \"entityType\": \"DEVICE\",\n        \"id\": \"cbc8d8c0-1cc4-11ef-a4b5-cd877a1ebdc9\"\n    },\n    \"createdTime\": 1716881702988,\n    \"additionalInfo\": null,\n    \"tenantId\": {\n        \"entityType\": \"TENANT\",\n        \"id\": \"84c78ec0-2a13-11ee-a87d-e32305a89fd3\"\n    },\n    \"customerId\": {\n        \"entityType\": \"CUSTOMER\",\n        \"id\": \"13814000-1dd2-11b2-8080-808080808080\"\n    },\n    \"name\": \"0004a30b00f98da1\",\n    \"type\": \"default\",\n    \"label\": null,\n    \"deviceProfileId\": {\n        \"entityType\": \"DEVICE_PROFILE\",\n        \"id\": \"84cbfb90-2a13-11ee-a87d-e32305a89fd3\"\n    },\n    \"deviceData\": {\n        \"configuration\": {\n            \"type\": \"DEFAULT\"\n        },\n        \"transportConfiguration\": {\n            \"type\": \"DEFAULT\"\n        }\n    },\n    \"firmwareId\": null,\n    \"softwareId\": null,\n    \"externalId\": null,\n    \"ownerId\": {\n        \"entityType\": \"TENANT\",\n        \"id\": \"84c78ec0-2a13-11ee-a87d-e32305a89fd3\"\n    }\n}"
				}
			]
		},
		{
			"name": "credentialsId",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (responseCode.code === 200) {\r",
							"    var responseData = JSON.parse(responseBody);\r",
							"    pm.environment.set(\"credentialsId\", responseData.credentialsId);\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/device/{{dev_id}}/credentials",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device",
						"{{dev_id}}",
						"credentials"
					]
				}
			},
			"response": [
				{
					"name": "credentialsId",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{thingsboard_host}}/api/device/{{dev_id}}/credentials",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"device",
								"{{dev_id}}",
								"credentials"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "transfer-encoding",
							"value": "chunked"
						},
						{
							"key": "date",
							"value": "Tue, 28 May 2024 09:20:12 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": {\n        \"id\": \"6ba24d10-1c1e-11ef-a4b5-cd877a1ebdc9\"\n    },\n    \"createdTime\": 1716810245217,\n    \"deviceId\": {\n        \"entityType\": \"DEVICE\",\n        \"id\": \"6ba189c0-1c1e-11ef-a4b5-cd877a1ebdc9\"\n    },\n    \"credentialsType\": \"ACCESS_TOKEN\",\n    \"credentialsId\": \"NL6ER6WOcqCraAcNaq2p\",\n    \"credentialsValue\": null\n}"
				}
			]
		},
		{
			"name": "import data",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"device\": {\r\n    \"name\": \"{{dev_id}}\",\r\n    \"customerId\": {\r\n      \"id\": \"{{customerId}}\",\r\n      \"entityType\": \"CUSTOMER\"\r\n    },\r\n    \"deviceProfileId\": {\r\n      \"id\": \"{{deviceProfileId}}\",\r\n      \"entityType\": \"DEVICE_PROFILE\"\r\n    }\r\n  },\r\n  \"credentials\": {\r\n    \"credentialsType\": \"ACCESS_TOKEN\",\r\n    \"credentialsId\": \"credentialsId\"\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device-with-credentials",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device-with-credentials"
					]
				}
			},
			"response": [
				{
					"name": "import data",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"device\": {\r\n    \"name\": \"{{dev_id}}\",\r\n    \"customerId\": {\r\n      \"id\": \"{{customerId}}\",\r\n      \"entityType\": \"CUSTOMER\"\r\n    },\r\n    \"deviceProfileId\": {\r\n      \"id\": \"{{deviceProfileId}}\",\r\n      \"entityType\": \"DEVICE_PROFILE\"\r\n    }\r\n  },\r\n  \"credentials\": {\r\n    \"credentialsType\": \"ACCESS_TOKEN\",\r\n    \"credentialsId\": \"credentialsId\"\r\n  }\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{thingsboard_host}}/api/device-with-credentials",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"device-with-credentials"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "transfer-encoding",
							"value": "chunked"
						},
						{
							"key": "date",
							"value": "Wed, 29 May 2024 09:09:09 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": {\n        \"entityType\": \"DEVICE\",\n        \"id\": \"1c69b200-1d9b-11ef-a4b5-cd877a1ebdc9\"\n    },\n    \"createdTime\": 1716973750560,\n    \"additionalInfo\": null,\n    \"tenantId\": {\n        \"entityType\": \"TENANT\",\n        \"id\": \"84c78ec0-2a13-11ee-a87d-e32305a89fd3\"\n    },\n    \"customerId\": {\n        \"entityType\": \"CUSTOMER\",\n        \"id\": \"dc8383c0-f0d9-11ee-a9f5-675b85d8bd3b\"\n    },\n    \"name\": \"6ba189c0-1c1e-11ef-a4b5-cd877a1ebdc9\",\n    \"type\": \"chekness\",\n    \"label\": null,\n    \"deviceProfileId\": {\n        \"entityType\": \"DEVICE_PROFILE\",\n        \"id\": \"45cef3b0-2ad7-11ee-a4a5-cfc2f26174fe\"\n    },\n    \"deviceData\": {\n        \"configuration\": {\n            \"type\": \"DEFAULT\"\n        },\n        \"transportConfiguration\": {\n            \"type\": \"DEFAULT\"\n        }\n    },\n    \"firmwareId\": null,\n    \"softwareId\": null,\n    \"externalId\": null,\n    \"ownerId\": {\n        \"entityType\": \"CUSTOMER\",\n        \"id\": \"dc8383c0-f0d9-11ee-a9f5-675b85d8bd3b\"\n    }\n}"
				}
			]
		},
		{
			"name": "device telemetry",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/plugins/telemetry/DEVICE/{{dispositivo_id}}/values/timeseries",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"plugins",
						"telemetry",
						"DEVICE",
						"{{dispositivo_id}}",
						"values",
						"timeseries"
					]
				}
			},
			"response": [
				{
					"name": "device telemetry",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{thingsboard_host}}/api/plugins/telemetry/DEVICE/{{dispositivo_id}}/values/timeseries",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"plugins",
								"telemetry",
								"DEVICE",
								"{{dispositivo_id}}",
								"values",
								"timeseries"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "transfer-encoding",
							"value": "chunked"
						},
						{
							"key": "date",
							"value": "Tue, 28 May 2024 07:36:35 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"msgDailyCounter\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"153\"\n        }\n    ],\n    \"data_corriente1\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"13.9\"\n        }\n    ],\n    \"data_corriente2\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"13.7\"\n        }\n    ],\n    \"data_corriente3\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"13.5\"\n        }\n    ],\n    \"data_corriente4\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"0\"\n        }\n    ],\n    \"rssi\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"-87\"\n        }\n    ],\n    \"snr\": [\n        {\n            \"ts\": 1716881777483,\n            \"value\": \"9\"\n        }\n    ],\n    \"firstMsg\": [\n        {\n            \"ts\": 1716872454583,\n            \"value\": \"1716872454583\"\n        }\n    ],\n    \"date1\": [\n        {\n            \"ts\": 1716872454583,\n            \"value\": \"2024-05-27T19:23:27.341Z\"\n        }\n    ],\n    \"date2\": [\n        {\n            \"ts\": 1716872454583,\n            \"value\": \"2024-05-28T05:00:54.583Z\"\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "device attributes",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{dev_access_token}}/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{dev_access_token}}",
						"attributes"
					]
				}
			},
			"response": [
				{
					"name": "device attributes",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{thingsboard_host}}/api/v1/{{dev_access_token}}/attributes",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"v1",
								"{{dev_access_token}}",
								"attributes"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "content-length",
							"value": "138"
						},
						{
							"key": "date",
							"value": "Wed, 29 May 2024 06:40:09 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"client\": {\n        \"application_id\": 1,\n        \"application_name\": \"PV_San_Andres_Telesto02\",\n        \"dev_eui\": \"0004a30b00f98b47\",\n        \"device_name\": \"0004a30b00f98b47\"\n    }\n}"
				}
			]
		},
		{
			"name": "device telemetry",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"device_status\": {{deviceStatus}},\r\n  \"gateway_status\": {{gatewayStatus}}\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{device_access_token}}/telemetry",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{device_access_token}}",
						"telemetry"
					]
				}
			},
			"response": []
		},
		{
			"name": "device last telemetry",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"device\": {\r\n    \"name\": \"dev_id\",\r\n    \"customerId\": {\r\n      \"id\": \"customerId\",\r\n      \"entityType\": \"CUSTOMER\"\r\n  \t},\r\n    \"deviceProfileId\": {\r\n      \"id\": \"deviceProfileId\",\r\n      \"entityType\": \"DEVICE_PROFILE\"\r\n    }\r\n  },\r\n  \"credentials\": {\r\n    \"credentialsType\": \"ACCESS_TOKEN\",\r\n    \"credentialsId\": \"credentialsId\"\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{credentialsId}}/telemetry",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{credentialsId}}",
						"telemetry"
					]
				}
			},
			"response": []
		},
		{
			"name": "customer attributes",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/a39214a0-19a6-11ef-a4b5-cd877a1ebdc9/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"a39214a0-19a6-11ef-a4b5-cd877a1ebdc9",
						"attributes"
					]
				}
			},
			"response": []
		},
		{
			"name": "customer attributes",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"device_status\": {{deviceStatus}},\r\n    \"gateway_status\": {{gatewayStatus}}\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{customerId}}/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{customerId}}",
						"attributes"
					]
				}
			},
			"response": []
		},
		{
			"name": "device server attributes",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{device_access_token}}/attributes?clientKeys=attribute1,attribute2&sharedKeys=shared1,shared2",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{device_access_token}}",
						"attributes"
					],
					"query": [
						{
							"key": "clientKeys",
							"value": "attribute1,attribute2"
						},
						{
							"key": "sharedKeys",
							"value": "shared1,shared2"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "device customer attributes",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"application_id\": \"1\",\r\n    \"application_name\": \"PRUEBAS\",\r\n    \"dev_eui\": \"0004a30b01055537\",\r\n    \"device_name\": \"0004a30b01055537\"\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{device_access_token}}/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{device_access_token}}",
						"attributes"
					]
				}
			},
			"response": []
		},
		{
			"name": "device in customer",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/customer/{{customerId}}/device/{{dev_id}}",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"customer",
						"{{customerId}}",
						"device",
						"{{dev_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "delete device",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device/{{dev_id}}",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device",
						"{{dev_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "delete device attributes",
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/plugins/telemetry/{{dev_id}}/CLIENT_SCOPE?keys=device",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"plugins",
						"telemetry",
						"{{dev_id}}",
						"CLIENT_SCOPE"
					],
					"query": [
						{
							"key": "keys",
							"value": "device"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "delete some devices",
			"event": [
				{
					"listen": "prerequest",
					"script": {
						"exec": [
							"// Almacena la lista de dev_eui en el entorno de Postman si no está ya configurada\r",
							"if (!pm.environment.get(\"devEuis\")) {\r",
							"    const devEuis = [\r",
							"        \"7f95dd00-1dc7-11ef-a4b5-cd877a1ebdc9\",\r",
							"        \"fe404980-1dca-11ef-a4b5-cd877a1ebdc9\"\r",
							"    ];\r",
							"    pm.environment.set(\"devEuis\", JSON.stringify(devEuis));\r",
							"    pm.environment.set(\"currentIndex\", 0);\r",
							"}\r",
							"\r",
							"// Recupera la lista de dev_eui y el índice actual\r",
							"let devEuis = JSON.parse(pm.environment.get(\"devEuis\"));\r",
							"let currentIndex = parseInt(pm.environment.get(\"currentIndex\"));\r",
							"\r",
							"// Verifica si todavía hay dev_eui que procesar\r",
							"if (currentIndex < devEuis.length) {\r",
							"    // Establece el dev_eui actual en la variable de entorno 'dev_eui'\r",
							"    pm.environment.set(\"dev_eui\", devEuis[currentIndex]);\r",
							"    // Incrementa el índice para el siguiente dispositivo\r",
							"    pm.environment.set(\"currentIndex\", currentIndex + 1);\r",
							"\r",
							"    // Vuelve a ejecutar la misma solicitud para el siguiente dispositivo\r",
							"    postman.setNextRequest(pm.info.requestName);\r",
							"} else {\r",
							"    // Limpia las variables de entorno una vez que todos los dispositivos han sido procesados\r",
							"    pm.environment.unset(\"devEuis\");\r",
							"    pm.environment.unset(\"currentIndex\");\r",
							"    pm.environment.unset(\"dev_eui\");\r",
							"}\r",
							"var currentCount = pm.environment.get(\"count\")\r",
							"if (currentCount > 0){\r",
							" currentCount = currentCount -1 ;\r",
							" pm.environment.set(\"count\", currentCount);\r",
							" postman.setNextRequest(\"Create SE\");\r",
							"}"
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "DELETE",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/device/{{dev_eui}}",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device",
						"{{dev_eui}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "device id",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json",
						"type": "text"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}",
						"type": "text"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/tenant/devices?deviceName=0004a30b00fef714",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"tenant",
						"devices"
					],
					"query": [
						{
							"key": "deviceName",
							"value": "0004a30b00fef714"
						}
					]
				}
			},
			"response": [
				{
					"name": "device id",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "X-Authorization",
								"value": "Bearer {{access_token}}"
							}
						],
						"url": {
							"raw": "{{thingsboard_host}}/api/tenant/devices?deviceName=0004a30b00fef714",
							"host": [
								"{{thingsboard_host}}"
							],
							"path": [
								"api",
								"tenant",
								"devices"
							],
							"query": [
								{
									"key": "deviceName",
									"value": "0004a30b00fef714"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "vary",
							"value": "Origin"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Method"
						},
						{
							"key": "vary",
							"value": "Access-Control-Request-Headers"
						},
						{
							"key": "x-content-type-options",
							"value": "nosniff"
						},
						{
							"key": "x-xss-protection",
							"value": "1; mode=block"
						},
						{
							"key": "cache-control",
							"value": "no-cache, no-store, max-age=0, must-revalidate"
						},
						{
							"key": "pragma",
							"value": "no-cache"
						},
						{
							"key": "expires",
							"value": "0"
						},
						{
							"key": "content-type",
							"value": "application/json"
						},
						{
							"key": "transfer-encoding",
							"value": "chunked"
						},
						{
							"key": "date",
							"value": "Fri, 31 May 2024 05:13:01 GMT"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": {\n        \"entityType\": \"DEVICE\",\n        \"id\": \"15371070-1d89-11ef-a4b5-cd877a1ebdc9\"\n    },\n    \"createdTime\": 1716966007543,\n    \"additionalInfo\": null,\n    \"tenantId\": {\n        \"entityType\": \"TENANT\",\n        \"id\": \"84c78ec0-2a13-11ee-a87d-e32305a89fd3\"\n    },\n    \"customerId\": {\n        \"entityType\": \"CUSTOMER\",\n        \"id\": \"13814000-1dd2-11b2-8080-808080808080\"\n    },\n    \"name\": \"0004a30b00fef714\",\n    \"type\": \"default\",\n    \"label\": null,\n    \"deviceProfileId\": {\n        \"entityType\": \"DEVICE_PROFILE\",\n        \"id\": \"84cbfb90-2a13-11ee-a87d-e32305a89fd3\"\n    },\n    \"deviceData\": {\n        \"configuration\": {\n            \"type\": \"DEFAULT\"\n        },\n        \"transportConfiguration\": {\n            \"type\": \"DEFAULT\"\n        }\n    },\n    \"firmwareId\": null,\n    \"softwareId\": null,\n    \"externalId\": null,\n    \"ownerId\": {\n        \"entityType\": \"TENANT\",\n        \"id\": \"84c78ec0-2a13-11ee-a87d-e32305a89fd3\"\n    }\n}"
				}
			]
		}
	]
}