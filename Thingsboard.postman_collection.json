{
	"info": {
		"_postman_id": "6aac2a97-4ace-49f3-96bd-cc636ac5bd23",
		"name": "Thingsboard",
		"description": "ThingsBoard is an open-source IoT platform for data collection, processing, visualization, and device management.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "35157639",
		"_collection_link": "https://www.postman.com/cristinasevi/workspace/chirpstack-thingsboard/collection/35157639-6aac2a97-4ace-49f3-96bd-cc636ac5bd23?action=share&source=collection_link&creator=35157639"
	},
	"item": [
		{
			"name": "authentification",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"var jsonData = pm.response.json();\r",
							"pm.environment.set(\"access_token\", jsonData.token);\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "password",
							"value": "{{password}}",
							"type": "string"
						},
						{
							"key": "username",
							"value": "{{username}}",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\"username\":\"{{username}}\", \"password\":\"{{password}}\"}"
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/auth/login",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"auth",
						"login"
					]
				}
			},
			"response": []
		},
		{
			"name": "device data",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "{{username}}",
							"type": "string"
						},
						{
							"key": "password",
							"value": "{{password}}{",
							"type": "string"
						}
					]
				},
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/device/info/{{dev_id}}",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device",
						"info",
						"{{dev_id}}"
					]
				}
			},
			"response": []
		},
		{
			"name": "new device",
			"request": {
				"auth": {
					"type": "basic",
					"basic": [
						{
							"key": "username",
							"value": "{{username}}",
							"type": "string"
						},
						{
							"key": "password",
							"value": "{{password}}{",
							"type": "string"
						}
					]
				},
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n        \"device\": {\r\n            \"tenantId\": {\r\n            \"id\": \"{{tenantId}}\",\r\n            \"entityType\": \"TENANT\"\r\n            },\r\n            \"customerId\": {\r\n            \"id\": \"{{customerId}}\",\r\n            \"entityType\": \"CUSTOMER\"\r\n            },\r\n            \"ownerId\": {\r\n            \"id\": \"{{ownerId}}\",\r\n            \"entityType\": \"DEVICE\"\r\n            },\r\n            \"name\": \"{{device_id}}\",\r\n            \"label\": null,\r\n            \"deviceProfileId\": {\r\n            \"id\": \"{{deviceProfileId}}\",\r\n            \"entityType\": \"DEVICE_PROFILE\"\r\n            },\r\n            \"deviceData\": {\r\n            \"configuration\": {\r\n                \"type\": \"DEFAULT\"\r\n            },\r\n            \"transportConfiguration\": {\r\n                \"type\": \"DEFAULT\"\r\n            }\r\n            },\r\n            \"firmwareId\": null,\r\n            \"softwareId\": null,\r\n            \"additionalInfo\": null\r\n        },\r\n        \"credentials\": {\r\n            \"createdTime\": 1715866860000,\r\n            \"credentialsType\": \"ACCESS_TOKEN\",\r\n            \"credentialsId\": \"\"\r\n        }\r\n    }",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device-with-credentials",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device-with-credentials"
					]
				}
			},
			"response": []
		},
		{
			"name": "move device",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"clientId\": \"{{customerId}}\",\r\n    \"name\": \"{{dev_eui}}\"\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device"
					]
				}
			},
			"response": []
		},
		{
			"name": "credentialsId",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (responseCode.code === 200) {\r",
							"    var responseData = JSON.parse(responseBody);\r",
							"    pm.environment.set(\"credentialsId\", responseData.credentialsId);\r",
							"}\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/device/{{dev_id}}/credentials",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device",
						"{{dev_id}}",
						"credentials"
					]
				}
			},
			"response": []
		},
		{
			"name": "import data",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"device\": {\r\n    \"name\": \"{{dev_id}}\",\r\n    \"customerId\": {\r\n      \"id\": \"{{customerId}}\",\r\n      \"entityType\": \"CUSTOMER\"\r\n    },\r\n    \"deviceProfileId\": {\r\n      \"id\": \"{{deviceProfileId}}\",\r\n      \"entityType\": \"DEVICE_PROFILE\"\r\n    }\r\n  },\r\n  \"credentials\": {\r\n    \"credentialsType\": \"ACCESS_TOKEN\",\r\n    \"credentialsId\": \"{{credentialsId}}\"\r\n  }\r\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/device-with-credentials",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"device-with-credentials"
					]
				}
			},
			"response": []
		},
		{
			"name": "device attributes",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{device_access_token}}/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{device_access_token}}",
						"attributes"
					]
				}
			},
			"response": []
		},
		{
			"name": "device telemetry",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n  \"device_status\": {{deviceStatus}},\r\n  \"gateway_status\": {{gatewayStatus}}\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{device_access_token}}/telemetry",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{device_access_token}}",
						"telemetry"
					]
				}
			},
			"response": []
		},
		{
			"name": "customer attributes",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/a39214a0-19a6-11ef-a4b5-cd877a1ebdc9/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"a39214a0-19a6-11ef-a4b5-cd877a1ebdc9",
						"attributes"
					]
				}
			},
			"response": []
		},
		{
			"name": "customer attributes",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"\r",
							""
						],
						"type": "text/javascript",
						"packages": {}
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\r\n    \"device_status\": \"{{deviceStatus}}\",\r\n    \"gateway_status\": \"{{gatewayStatus}}\"\r\n}\r\n",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{customerId}}/attributes",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{customerId}}",
						"attributes"
					]
				}
			},
			"response": []
		},
		{
			"name": "device server attributes",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/v1/{{device_access_token}}/attributes?clientKeys=attribute1,attribute2&sharedKeys=shared1,shared2",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"v1",
						"{{device_access_token}}",
						"attributes"
					],
					"query": [
						{
							"key": "clientKeys",
							"value": "attribute1,attribute2"
						},
						{
							"key": "sharedKeys",
							"value": "shared1,shared2"
						}
					]
				}
			},
			"response": []
		},
		{
			"name": "device telemetry",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "X-Authorization",
						"value": "Bearer {{access_token}}"
					}
				],
				"url": {
					"raw": "{{thingsboard_host}}/api/plugins/telemetry/DEVICE/{{dispositivo_id}}/values/timeseries",
					"host": [
						"{{thingsboard_host}}"
					],
					"path": [
						"api",
						"plugins",
						"telemetry",
						"DEVICE",
						"{{dispositivo_id}}",
						"values",
						"timeseries"
					]
				}
			},
			"response": []
		}
	]
}